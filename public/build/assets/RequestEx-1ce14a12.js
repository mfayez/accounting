import{J}from"./ActionMessage-86d2cefe.js";import{J as b}from"./ActionSection-96b34f83.js";import{J as v}from"./Button-c7c1269f.js";import{J as S}from"./ConfirmationModal-fc660ee4.js";import{J as V}from"./DangerButton-cae1aa00.js";import{J as D}from"./DialogModal-9ccdd4ea.js";import{J as w}from"./FormSection-fba54185.js";import{J as C}from"./Input-fd3ff2e6.js";import{J as j}from"./Checkbox-f9be08cc.js";import{J as k}from"./InputError-147afb17.js";import{J as y}from"./Label-9c529059.js";import{J as A}from"./SecondaryButton-0e4a566a.js";import{J as B}from"./SectionBorder-790e6c81.js";import{J as T}from"./ValidationErrors-62fdbd60.js";import{T as x}from"./TextField-0eb10881.js";import{M}from"./vue3-multiselect.umd.min-18b68693.js";import{r as a,o as I,b as F,w as i,g as d,t as u,d as l,e as r,k as L,n as U}from"./app-a7c937a1.js";/* empty css                                                                  */import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-57156eee.js";import"./Modal-d0d07394.js";const E={components:{Multiselect:M,TextField:x,JetActionMessage:J,JetActionSection:b,JetButton:v,JetConfirmationModal:S,JetDangerButton:V,JetDialogModal:D,JetFormSection:w,JetInput:C,JetCheckbox:j,JetInputError:k,JetLabel:y,JetSecondaryButton:A,JetSectionBorder:B,JetValidationErrors:T},props:{},data(){return{errors:[],branches:[],customers:[],form:this.$inertia.form({issuer:"",receiver:"",start_date:new Date().toISOString().slice(0,10),end_date:new Date().toISOString().slice(0,10)}),showDialog:!1}},methods:{ShowDialog(){this.showDialog=!0},CancelAddRequest(){this.showDialog=!1},submit(){axios.post(route("archive.request.store"),this.form).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1}).catch(t=>{this.form.processing=!1,this.$page.props.errors=t.response.data.errors,this.errors=t.response.data.errors})}},created:function(){axios.get(route("json.branches")).then(e=>{var n=[{Id:-1,name:"All"}];this.branches=n.concat(e.data)}).catch(e=>{console.log(e)}),axios.get(route("json.customers")).then(e=>{var n=[{Id:-1,name:"All"}];this.customers=n.concat(e.data)}).catch(e=>{console.log(e)})}},N={class:"grid grid-cols-2 gap-4"},R={class:"flex items-center justify-end"};function O(t,e,n,z,o,m){const p=a("jet-label"),c=a("multiselect"),f=a("TextField"),h=a("jet-secondary-button"),_=a("jet-button"),g=a("jet-dialog-modal");return I(),F(g,{show:o.showDialog,onClose:e[6]||(e[6]=s=>o.showDialog=!1)},{title:i(()=>[d(u(t.__("Prepare Archive")),1)]),content:i(()=>[l("form",{onSubmit:e[4]||(e[4]=L((...s)=>m.submit&&m.submit(...s),["prevent"]))},[l("div",N,[l("div",null,[r(p,{value:t.__("Branch")},null,8,["value"]),r(c,{modelValue:o.form.issuer,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.issuer=s),label:"name",options:o.branches,placeholder:"Select branch"},null,8,["modelValue","options"])]),l("div",null,[r(p,{value:t.__("Customer")},null,8,["value"]),r(c,{modelValue:o.form.receiver,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.receiver=s),label:"name",options:o.customers,placeholder:"Select customer"},null,8,["modelValue","options"])]),l("div",null,[r(f,{modelValue:o.form.start_date,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.start_date=s),itemType:"date",itemLabel:t.__("Start Date")},null,8,["modelValue","itemLabel"])]),l("div",null,[r(f,{modelValue:o.form.end_date,"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.end_date=s),itemType:"date",itemLabel:t.__("End Date")},null,8,["modelValue","itemLabel"])])])],32)]),footer:i(()=>[l("div",R,[r(h,{onClick:e[5]||(e[5]=s=>m.CancelAddRequest())},{default:i(()=>[d(u(t.__("Cancel")),1)]),_:1}),r(_,{class:U(["ms-2",{"opacity-25":o.form.processing}]),onClick:m.submit,disabled:o.form.processing},{default:i(()=>[d(u(t.__("Send")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const ue=q(E,[["render",O]]);export{ue as default};
