import{D as T,A as q}from"./AppLayout-1a839f95.js";import{F as A}from"./inertiajs-tables-laravel-query-builder.es-5f1eef6b.js";import{C as F}from"./Confirm-41f29a5d.js";import{J as N}from"./Label-9c529059.js";import{J as P}from"./SecondaryButton-0e4a566a.js";import{J as V}from"./Button-c7c1269f.js";import{J as $}from"./DangerButton-cae1aa00.js";import k from"./EditItemMap-264c2634.js";import"./sweetalert.min-cf20c789.js";import{r as a,o as r,b as x,w as p,e as m,d as l,f as s,h as g,F as u,j as c,v as _,t as d,k as I,n as E,g as b}from"./app-a7c937a1.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./Edit-01bde3d2.js";import"./ActionMessage-86d2cefe.js";import"./ActionSection-96b34f83.js";import"./SectionTitle-57156eee.js";import"./ConfirmationModal-fc660ee4.js";import"./Modal-d0d07394.js";import"./DialogModal-9ccdd4ea.js";import"./FormSection-fba54185.js";import"./Input-fd3ff2e6.js";import"./Checkbox-f9be08cc.js";import"./InputError-147afb17.js";import"./SectionBorder-790e6c81.js";import"./ValidationErrors-62fdbd60.js";import"./Edit-a799b6f6.js";import"./Edit-1ec525ac.js";import"./vue3-multiselect.umd.min-18b68693.js";/* empty css                                                                  */import"./Load-131c55d3.js";import"./Load-1a88fc17.js";import"./Edit-0cd1ee03.js";import"./Upload-c519c160.js";import"./Upload-feb55a03.js";import"./Settings-519853de.js";import"./Settings-4bb87828.js";import"./Upload-aed85c43.js";import"./Request-bff86671.js";import"./TextField-0eb10881.js";import"./Add-1c7e008b.js";import"./Load-051be2ee.js";import"./Upload-9760ab9e.js";import"./Load-47d081ba.js";import"./ItemsMap-75bf1f86.js";import"./Upload-259c1194.js";import"./Upload-84201142.js";import"./ItemsMap-d1e6a413.js";import"./RequestEx-1ce14a12.js";const z={components:{Dropdown:T,AppLayout:q,Confirm:F,JetLabel:N,Table:A,JetButton:V,JetDangerButton:$,SecondaryButton:P,EditItemMap:k},props:{items:Object},data(){return{currentItem:{},notSortableCols:[]}},methods:{editItemMap(t){this.currentItem=t,this.$nextTick(()=>this.$refs.dlg2.ShowDialog())},deleteItemMap(t){this.currentItem=t,this.$refs.dlg4.ShowModal()},deleteItemMap2(){axios.post(route("sb.items.map.delete"),{SBCode:this.currentItem.SBCode}).then(t=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(t=>{this.$page.props.errors=t.response.data.errors,this.errors=t.response.data.errors})},nestedIndex:function(t,i){try{var o=i.split(".");return o.length==1?t[i].toString():o.length==2?t[o[0]][o[1]].toString():o.length==3?t[o[0]][o[1]][o[2]].toString():"Unsupported Nested Index"}catch{}return"N/A"},editItem:function(t){}}},O={class:"py-4"},Q={class:"mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-4"},G=["onClick"],H={class:"grid grid-cols-3 w-56"};function K(t,i,o,w,v,h){const C=a("edit-item-map"),B=a("jet-label"),y=a("confirm"),S=a("jet-danger-button"),M=a("jet-button"),D=a("Table"),j=a("app-layout");return r(),x(j,null,{default:p(()=>[m(C,{ref:"dlg2",item_map:v.currentItem},null,8,["item_map"]),m(y,{ref:"dlg4",onConfirmed:i[0]||(i[0]=e=>h.deleteItemMap2())},{default:p(()=>[m(B,{for:"type",value:t.__("Are you sure you want to delete this item?")},null,8,["value"])]),_:1},512),l("div",O,[l("div",Q,[l("div",U,[m(D,{filters:t.queryBuilderProps.filters,search:t.queryBuilderProps.search,columns:t.queryBuilderProps.columns,"on-update":t.setQueryBuilder,meta:o.items},{head:p(()=>[l("tr",null,[(r(!0),s(u,null,g(t.queryBuilderProps.columns,(e,n)=>(r(),s(u,{key:n},[v.notSortableCols.includes(n)?c((r(),s("th",{key:0},d(e.label),513)),[[_,t.show(n)]]):c((r(),s("th",{key:1,class:"cursor-pointer",onClick:I(f=>t.sortBy(n),["prevent"])},d(e.label),9,G)),[[_,t.show(n)]])],64))),128)),l("th",{onClick:i[1]||(i[1]=I(()=>{},["prevent"]))},d(t.__("Actions")),1)])]),body:p(()=>[(r(!0),s(u,null,g(o.items.data,e=>(r(),s("tr",{key:e.id,class:E({credit:e.documentType=="C",debit:e.documentType=="D"})},[(r(!0),s(u,null,g(t.queryBuilderProps.columns,(n,f)=>c((r(),s("td",{key:f},[(r(!0),s(u,null,g(h.nestedIndex(e,f).split(","),J=>(r(),s("div",null,d(J),1))),256))])),[[_,t.show(f)]])),128)),l("td",null,[l("div",H,[c(m(S,{class:"me-2 mt-2",onClick:n=>h.deleteItemMap(e)},{default:p(()=>[b(d(t.__("Delete")),1)]),_:2},1032,["onClick"]),[[_,e.status!="Valid"&&e.status!="approved"]]),c(m(M,{class:"me-2 mt-2",onClick:n=>h.editItemMap(e)},{default:p(()=>[b(d(t.__("Edit")),1)]),_:2},1032,["onClick"]),[[_,e.status!="Valid"]])])])],2))),128))]),_:1},8,["filters","search","columns","on-update","meta"])])])])]),_:1})}const zt=L(z,[["render",K],["__scopeId","data-v-5d11a093"]]);export{zt as default};
