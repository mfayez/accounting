import{D as T,A as N}from"./AppLayout-1a839f95.js";import{F as $}from"./inertiajs-tables-laravel-query-builder.es-5f1eef6b.js";import{C as q}from"./Confirm-41f29a5d.js";import{J as F}from"./Label-9c529059.js";import{J as P}from"./SecondaryButton-0e4a566a.js";import{J as k}from"./Button-c7c1269f.js";import{J as E}from"./DangerButton-cae1aa00.js";import L from"./Edit-8ab55d10.js";import{r as l,o as n,b as M,w as p,e as u,d as a,t as m,f as s,h as _,F as d,j as f,v as g,k as I,n as V,g as b}from"./app-a7c937a1.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import"./Edit-01bde3d2.js";import"./ActionMessage-86d2cefe.js";import"./ActionSection-96b34f83.js";import"./SectionTitle-57156eee.js";import"./ConfirmationModal-fc660ee4.js";import"./Modal-d0d07394.js";import"./DialogModal-9ccdd4ea.js";import"./FormSection-fba54185.js";import"./Input-fd3ff2e6.js";import"./Checkbox-f9be08cc.js";import"./InputError-147afb17.js";import"./SectionBorder-790e6c81.js";import"./ValidationErrors-62fdbd60.js";import"./Edit-a799b6f6.js";import"./Edit-1ec525ac.js";import"./vue3-multiselect.umd.min-18b68693.js";/* empty css                                                                  */import"./Load-131c55d3.js";import"./Load-1a88fc17.js";import"./Edit-0cd1ee03.js";import"./Upload-c519c160.js";import"./Upload-feb55a03.js";import"./Settings-519853de.js";import"./Settings-4bb87828.js";import"./Upload-aed85c43.js";import"./Request-bff86671.js";import"./TextField-0eb10881.js";import"./Add-1c7e008b.js";import"./Load-051be2ee.js";import"./Upload-9760ab9e.js";import"./Load-47d081ba.js";import"./sweetalert.min-cf20c789.js";import"./ItemsMap-75bf1f86.js";import"./Upload-259c1194.js";import"./Upload-84201142.js";import"./ItemsMap-d1e6a413.js";import"./RequestEx-1ce14a12.js";const O={components:{Dropdown:T,AppLayout:N,Confirm:q,JetLabel:F,Table:$,JetButton:k,JetDangerButton:E,SecondaryButton:P,EditItem:L},props:{items:Object},data(){return{currentItem:{},notSortableCols:[]}},methods:{editItem(t){this.currentItem=t,this.$nextTick(()=>this.$refs.dlg2.ShowDialog())},toggleItemStatus(t){this.currentItem=t,axios.post(route("accounting.chart.delete"),{id:this.currentItem.id,status:this.currentItem.status=="Active"?"Inactive":"Active"}).then(e=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.currentItem.status=this.currentItem.status=="Active"?"Inactive":"Active"}).catch(e=>{this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})},nestedIndex:function(t,e){try{var r=e.split(".");return r.length==1?t[e].toString():r.length==2?t[r[0]][r[1]].toString():r.length==3?t[r[0]][r[1]][r[2]].toString():"Unsupported Nested Index"}catch{}return"N/A"}}},Q={class:"py-4"},U={class:"mx-auto sm:px-6 lg:px-8"},G={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-4"},H=["onClick"],K={class:"grid grid-cols-3 w-56"};function R(t,e,r,w,v,h){const C=l("edit-item"),y=l("jet-label"),B=l("confirm"),S=l("jet-danger-button"),A=l("jet-button"),j=l("Table"),D=l("app-layout");return n(),M(D,null,{default:p(()=>[u(C,{ref:"dlg2",accounting_item:v.currentItem},null,8,["accounting_item"]),u(B,{ref:"dlg4",onConfirmed:e[0]||(e[0]=o=>t.toggleItemStatus2())},{default:p(()=>[u(y,{for:"type",value:t.__("Are you sure you want to delete this item?")},null,8,["value"])]),_:1},512),a("div",Q,[a("div",U,[a("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=o=>t.newItemMap())},m(t.__("New")),1),a("div",G,[u(j,{filters:t.queryBuilderProps.filters,search:t.queryBuilderProps.search,columns:t.queryBuilderProps.columns,"on-update":t.setQueryBuilder,meta:r.items},{head:p(()=>[a("tr",null,[(n(!0),s(d,null,_(t.queryBuilderProps.columns,(o,i)=>(n(),s(d,{key:i},[v.notSortableCols.includes(i)?f((n(),s("th",{key:0},m(o.label),513)),[[g,t.show(i)]]):f((n(),s("th",{key:1,class:"cursor-pointer",onClick:I(c=>t.sortBy(i),["prevent"])},m(o.label),9,H)),[[g,t.show(i)]])],64))),128)),a("th",{onClick:e[2]||(e[2]=I(()=>{},["prevent"]))},m(t.__("Actions")),1)])]),body:p(()=>[(n(!0),s(d,null,_(r.items.data,o=>(n(),s("tr",{key:o.id,class:V({credit:o.documentType=="C",debit:o.documentType=="D"})},[(n(!0),s(d,null,_(t.queryBuilderProps.columns,(i,c)=>f((n(),s("td",{key:c},[(n(!0),s(d,null,_(h.nestedIndex(o,c).split(","),J=>(n(),s("div",null,m(J),1))),256))])),[[g,t.show(c)]])),128)),a("td",null,[a("div",K,[u(S,{class:"me-2 mt-2",onClick:i=>h.toggleItemStatus(o)},{default:p(()=>[b(m(o.status=="Active"?t.__("Deactivate"):t.__("Activate")),1)]),_:2},1032,["onClick"]),u(A,{class:"me-2 mt-2",onClick:i=>h.editItem(o)},{default:p(()=>[b(m(t.__("Edit")),1)]),_:2},1032,["onClick"])])])],2))),128))]),_:1},8,["filters","search","columns","on-update","meta"])])])])]),_:1})}const Ot=z(O,[["render",R],["__scopeId","data-v-a7e0c4f6"]]);export{Ot as default};
