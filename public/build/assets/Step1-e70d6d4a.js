import{J as _}from"./InputError-147afb17.js";import{J as h}from"./DialogModal-9ccdd4ea.js";import{s as m}from"./sweetalert.min-cf20c789.js";import{r as p,o as b,f as x,e as l,w as u,g as v,d as t,k as g,j as c,Q as w,m as d,t as y,p as k,l as E}from"./app-a7c937a1.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-d0d07394.js";const A={components:{InputError:_,JetDialogModal:h},props:{},data(){return{showDialog:!1,form:this.$inertia.form({type:"ETA Settings",client_id:"",client_secret1:"",client_secret2:"",isProduction:!0,login_url:"https://id.eta.gov.eg/connect/token",eta_url:"https://api.invoicing.eta.gov.eg/api/v1.0",preview_url:"https://invoicing.eta.gov.eg/print/documents/"})}},methods:{submit(){this.form.isProduction?(this.form.login_url="https://id.eta.gov.eg/connect/token",this.form.eta_url="https://api.invoicing.eta.gov.eg/api/v1.0",this.form.preview_url="https://invoicing.eta.gov.eg/print/documents/"):(this.form.login_url="https://id.preprod.eta.gov.eg/connect/token",this.form.eta_url="https://api.preprod.invoicing.eta.gov.eg/api/v1.0",this.form.preview_url="https://preprod.invoicing.eta.gov.eg/print/documents/"),this.form.processing=!0,axios.post(route("setup.ping_eta"),this.form).then(o=>{console.log(o),axios.post(route("settings.store"),this.form).then(e=>{this.form.processing=!1,m({title:"تم الحفظ بنجاح",text:"سيتم تحويلك للخطوة التالية",icon:"success",button:"موافق"}).then(()=>{this.form.processing=!1,this.$inertia.visit(route("setup.step2"))})}).catch(e=>{this.form.processing=!1,this.$page.props.errors=e.response.data.errors,this.errors=e.response.data.errors})}).catch(o=>{this.form.processing=!1,m({title:"خطأ",text:"مصلحة الضرائب غير متاحة حاليا",icon:"error",button:"موافق"})})}},computed:{formIsProcessing(){return this.form.processing}},created(){this.form.reset("type","ETA Settings"),axios.get(route("settings.json"),{params:{type:this.form.type}}).then(o=>{this.form.client_id=o.data.client_id,this.form.client_secret1=o.data.client_secret1,this.form.client_secret2=o.data.client_secret2,this.form.isProduction=o.data.isProduction,this.form.login_url=o.data.login_url,this.form.eta_url=o.data.eta_url}).catch(o=>{})}},i=o=>(k("data-v-91c9abc1"),o=o(),E(),o),I={class:"px-3 py-6 w-screen h-screen flex justify-center items-center"},P=i(()=>t("iframe",{width:"100%",height:"480px",src:"https://www.youtube.com/watch?v=L3dX9TpcHsU",title:"Accounting Master",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,-1)),j={class:"grid grid-cols-2 gap-4 w-full lg:w-2/5 xl:w-2/5 2xl:w-2/6 border border-gray-200 rounded-lg shadow-lg p-6"},C=i(()=>t("div",{class:"col-span-2 items-center justify-center h-full p-12"},[t("div",{class:"w-full"},[t("h1",{class:"text-center text-2xl font-semibold text-gray-700"},"مرحباً فى برنامج انفويس ماستر"),t("p",{class:"text-center mt-2 text-sm text-gray-500"}," ثلاث خطوات سهلة لأعداد البرنامج ")])],-1)),D={class:"col-span-2 bg-cover lg:block"},T={class:"text-right"},V=i(()=>t("h1",{class:"text-2xl font-semibold text-gray-700"},"الخطوة الأولى",-1)),L=i(()=>t("h2",{class:"text-2xl text-gray-700"},"ربط البرنامج بمصلحة الضرائب",-1)),M={class:"mt-4"},U=i(()=>t("option",{value:"true"},"البيئة الفعلية",-1)),J=i(()=>t("option",{value:"false"},"البيئة التجريبية",-1)),B=[U,J],N={class:"mt-4"},H=i(()=>t("label",{class:"block mb-2 text-sm font-medium text-gray-600",for:"LoggingEmailAddress"},"ETA Client ID",-1)),Q={class:"mt-4"},X=i(()=>t("label",{class:"block mb-2 text-sm font-medium text-gray-600",for:"LoggingEmailAddress"},"ETA Client Secret 1",-1)),q={class:"mt-4"},z=i(()=>t("label",{class:"block mb-2 text-sm font-medium text-gray-600",for:"LoggingEmailAddress"},"ETA Client Secret 2",-1)),F={class:"mt-8 justify justify-right"},G=["disabled"];function K(o,e,O,R,s,n){const f=p("jet-dialog-modal"),a=p("input-error");return b(),x("div",I,[l(f,{show:s.showDialog,onClose:e[0]||(e[0]=r=>s.showDialog=!1),"max-width":"2xl","max-height":"h-1/2"},{title:u(()=>[v(" الفيديو للتعرف على طريقة الربط و الحصول على كود الربط ")]),content:u(()=>[P]),_:1},8,["show"]),t("div",j,[C,t("div",D,[t("div",T,[V,L,t("a",{href:"#",onClick:e[1]||(e[1]=g(r=>s.showDialog=!0,["prevent"]))},"يمكنك مشاهدة الفيديو للتعرف على طريقة الربط و الحصول على كود الربط")]),t("form",{onSubmit:e[7]||(e[7]=g((...r)=>n.submit&&n.submit(...r),["prevent"])),dir:"ltr"},[t("div",M,[c(t("select",{id:"production",class:"block w-full px-4 py-2 text-gray-700 bg-white border rounded-md focus:outline-none focus:border-black",type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>s.form.isProduction=r)},B,512),[[w,s.form.isProduction]])]),t("div",N,[H,c(t("input",{id:"client_id",class:"block w-full px-4 py-2 text-gray-700 bg-white border rounded-md focus:outline-none focus:border-black",type:"text","onUpdate:modelValue":e[3]||(e[3]=r=>s.form.client_id=r)},null,512),[[d,s.form.client_id]]),l(a,{message:s.form.errors.client_id},null,8,["message"])]),t("div",Q,[X,c(t("input",{id:"LoggingEmailAddress",class:"block w-full px-4 py-2 text-gray-700 bg-white border rounded-md focus:outline-none focus:border-black",type:"text","onUpdate:modelValue":e[4]||(e[4]=r=>s.form.client_secret1=r)},null,512),[[d,s.form.client_secret1]]),l(a,{message:s.form.errors.client_secret1},null,8,["message"])]),t("div",q,[z,c(t("input",{id:"LoggingEmailAddress",class:"block w-full px-4 py-2 text-gray-700 bg-white border rounded-md focus:outline-none focus:border-black",type:"text","onUpdate:modelValue":e[5]||(e[5]=r=>s.form.client_secret2=r)},null,512),[[d,s.form.client_secret2]]),l(a,{message:s.form.errors.client_secret2},null,8,["message"])]),t("div",F,[t("button",{class:"w-1/3 px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded hover:bg-gray-600 focus:outline-none focus:bg-gray-600",disabled:n.formIsProcessing,onClick:e[6]||(e[6]=(...r)=>n.submit&&n.submit(...r))},y(n.formIsProcessing?"جاري التحميل":"التالي"),9,G)])],32)])])])}const ot=S(A,[["render",K],["__scopeId","data-v-91c9abc1"]]);export{ot as default};
