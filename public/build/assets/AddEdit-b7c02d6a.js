import{J as h}from"./Button-c7c1269f.js";import{J as w}from"./DialogModal-9ccdd4ea.js";import{J as C}from"./Input-fd3ff2e6.js";import{J as I}from"./InputError-147afb17.js";import{J as j}from"./SecondaryButton-0e4a566a.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import{r as o,o as b,f as k,d as c,L as x,e as s,w as r,g as d,t as m,n as v}from"./app-a7c937a1.js";import"./Modal-d0d07394.js";const y={emits:["saved"],props:{item:null,title:{default:"Editing Item"},button:{default:"Save"}},components:{JetButton:h,JetDialogModal:w,JetInput:C,JetInputError:I,JetSecondaryButton:j},data(){return{editingItem:!1,processing:!1,error:null}},methods:{saveItem(){axios.get(route("password.confirmation")).then(e=>{e.data.confirmed?this.$emit("confirmed"):(this.editingItem=!0,setTimeout(()=>this.$refs.password.focus(),250))})},confirmPassword(){this.processing=!0,axios.post(route("password.confirm"),{password:this.form.password}).then(()=>{this.processing=!1,this.closeModal(),this.$nextTick(()=>this.$emit("confirmed"))}).catch(e=>{this.processing=!1,this.error=e.response.data.errors.password[0],this.$refs.password.focus()})},closeModal(){this.editingItem=!1}}},V={class:"mt-4"};function B(e,n,i,M,a,t){const p=o("jet-input"),u=o("jet-input-error"),f=o("jet-secondary-button"),_=o("jet-button"),g=o("jet-dialog-modal");return b(),k("span",null,[c("span",{onClick:n[0]||(n[0]=(...l)=>t.saveItem&&t.saveItem(...l))},[x(e.$slots,"default")]),s(g,{show:a.editingItem,onClose:t.closeModal},{title:r(()=>[d(m(i.title),1)]),content:r(()=>[c("div",V,[s(p,{type:"text",class:"mt-1 block w-3/4",placeholder:"Password",ref:"description",modelValue:i.item.description,"onUpdate:modelValue":n[1]||(n[1]=l=>i.item.description=l)},null,8,["modelValue"]),s(u,{message:a.error,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[s(f,{onClick:t.closeModal},{default:r(()=>[d(" Cancel ")]),_:1},8,["onClick"]),s(_,{class:v(["ms-2",{"opacity-25":a.processing}]),onClick:t.confirmPassword,disabled:a.processing},{default:r(()=>[d(m(i.button),1)]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show","onClose"])])}const L=J(y,[["render",B]]);export{L as default};
