import{J as b}from"./ActionMessage-86d2cefe.js";import{J as v}from"./ActionSection-96b34f83.js";import{J as g}from"./Button-c7c1269f.js";import{J as y}from"./ConfirmationModal-fc660ee4.js";import{J as C}from"./DangerButton-cae1aa00.js";import{J as w}from"./DialogModal-9ccdd4ea.js";import{J as S}from"./FormSection-fba54185.js";import{J as V}from"./Input-fd3ff2e6.js";import{J}from"./Checkbox-f9be08cc.js";import{J as D}from"./InputError-147afb17.js";import{J as I}from"./Label-9c529059.js";import{J as N}from"./SecondaryButton-0e4a566a.js";import{J as B}from"./SectionBorder-790e6c81.js";import{J as k}from"./ValidationErrors-62fdbd60.js";import{r as l,o as j,b as L,w as m,g as p,t,e as i,d as e,j as M,Q as q,k as U,n as A}from"./app-a7c937a1.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import"./SectionTitle-57156eee.js";import"./Modal-d0d07394.js";const F={components:{JetActionMessage:b,JetActionSection:v,JetButton:g,JetConfirmationModal:y,JetDangerButton:C,JetDialogModal:w,JetFormSection:S,JetInput:V,JetCheckbox:J,JetInputError:D,JetLabel:I,JetSecondaryButton:N,JetSectionBorder:B,JetValidationErrors:k},props:{branch:{Type:Object,default:null}},data(){return{errors:[],form:this.$inertia.form({name:"",issuer_id:"",type:"B",address:{branchID:"",country:"",governate:"",regionCity:"",street:"",buildingNumber:"",postalCode:"",additionalInformation:""},branchLogo:""}),showDialog:!1}},methods:{ShowDialog(){this.branch!==null&&(this.form.name=this.branch.name,this.form.issuer_id=this.branch.issuer_id,this.form.type=this.branch.type,this.form.address.branchID=this.branch.address.branchID,this.form.address.country=this.branch.address.country,this.form.address.governate=this.branch.address.governate,this.form.address.regionCity=this.branch.address.regionCity,this.form.address.street=this.branch.address.street,this.form.address.buildingNumber=this.branch.address.buildingNumber,this.form.address.postalCode=this.branch.address.postalCode,this.form.address.additionalInformation=this.branch.address.additionalInformation),this.showDialog=!0},CancelAddBranch(){this.showDialog=!1},SaveBranch(){const o=new FormData;this.form.branchLogo&&o.append("branchLogo",this.form.branchLogo),o.append("name",this.form.name),o.append("issuer_id",this.form.issuer_id),o.append("type",this.form.type),o.append("address[branchID]",this.form.address.branchID),o.append("address[country]",this.form.address.country),o.append("address[governate]",this.form.address.governate),o.append("address[regionCity]",this.form.address.regionCity),o.append("address[street]",this.form.address.street),o.append("address[buildingNumber]",this.form.address.buildingNumber),o.append("address[postalCode]",this.form.address.postalCode),o.append("address[additionalInformation]",this.form.address.additionalInformation),o.append("_method","PUT"),axios.post(route("branches.update",{branch:this.branch.Id}),o,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(s=>{console.log(s),this.form.processing=!1,this.$page.props.errors=s.response.data.errors,this.errors=s.response.data.errors})},SaveNewBranch(){const o=new FormData;o.append("branchLogo",this.form.branchLogo),o.append("name",this.form.name),o.append("issuer_id",this.form.issuer_id),o.append("type",this.form.type),o.append("address[branchID]",this.form.address.branchID),o.append("address[country]",this.form.address.country),o.append("address[governate]",this.form.address.governate),o.append("address[regionCity]",this.form.address.regionCity),o.append("address[street]",this.form.address.street),o.append("address[buildingNumber]",this.form.address.buildingNumber),o.append("address[postalCode]",this.form.address.postalCode),o.append("address[additionalInformation]",this.form.address.additionalInformation),axios.post(route("branches.store"),o,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{this.$store.dispatch("setSuccessFlashMessage",!0),this.processing=!1,this.$nextTick(()=>this.$emit("dataUpdated")),this.form.reset(),this.form.processing=!1,this.showDialog=!1,setTimeout(()=>{window.location.reload()},500)}).catch(s=>{this.form.processing=!1,this.$page.props.errors=s.response.data.errors,this.errors=s.response.data.errors})},submit(){this.branch==null?this.SaveNewBranch():this.SaveBranch()},branchLogo(o){this.form.branchLogo=o.target.files[0]}}},z={class:"grid grid-cols-2 gap-4"},E={class:"mt-4"},G={class:"mt-4"},Q={class:"mt-4"},P={class:"mt-4"},R={class:"mt-4"},H={class:"mt-4"},K={value:"Cairo"},O={value:"Giza"},W={value:"Alexandria"},X={value:"Gharbiya"},Y={value:"Qalioubiya"},Z={value:"Assiut"},$={value:"Aswan"},x={value:"Beheira"},oo={value:"Bani Suef"},eo={value:"Daqahliya"},so={value:"Damietta"},to={value:"Fayyoum"},ao={value:"Helwan"},ro={value:"Ismailia"},io={value:"Kafr El Sheikh"},no={value:"Luxor"},lo={value:"Marsa Matrouh"},uo={value:"Minya"},mo={value:"Monofiya"},po={value:"New Valley"},ho={value:"North Sinai"},fo={value:"Port Said"},_o={value:"Qena"},co={value:"Red Sea"},bo={value:"Sharqiya"},vo={value:"Sohag"},go={value:"South Sinai"},yo={value:"Suez"},Co={value:"Tanta"},wo={class:"mt-4"},So={class:"mt-4"},Vo={class:"mt-4"},Jo={class:"flex items-center justify-end"};function Do(o,s,Io,No,r,u){const h=l("jet-validation-errors"),n=l("jet-label"),d=l("jet-input"),f=l("jet-secondary-button"),_=l("jet-button"),c=l("jet-dialog-modal");return j(),L(c,{show:r.showDialog,onClose:s[13]||(s[13]=a=>r.showDialog=!1)},{title:m(()=>[p(t(o.__("Branch Information")),1)]),content:m(()=>[i(h,{class:"mb-4"}),e("form",{onSubmit:s[11]||(s[11]=U((...a)=>u.submit&&u.submit(...a),["prevent"]))},[e("div",z,[e("div",null,[e("div",null,[i(n,{for:"branchNo",value:o.__("Branch Number")},null,8,["value"]),i(d,{id:"branchNo",type:"number",class:"mt-1 block w-full",modelValue:r.form.address.branchID,"onUpdate:modelValue":s[0]||(s[0]=a=>r.form.address.branchID=a),required:"",autofocus:""},null,8,["modelValue"])]),e("div",E,[i(n,{for:"id",value:o.__("Tax Registration Number")},null,8,["value"]),i(d,{id:"id",type:"number",class:"mt-1 block w-full",modelValue:r.form.issuer_id,"onUpdate:modelValue":s[1]||(s[1]=a=>r.form.issuer_id=a),required:""},null,8,["modelValue"])]),e("div",G,[i(n,{for:"name",value:o.__("Branch Name")},null,8,["value"]),i(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:r.form.name,"onUpdate:modelValue":s[2]||(s[2]=a=>r.form.name=a),required:""},null,8,["modelValue"])]),e("div",Q,[i(n,{for:"additionalInformation",value:o.__("Additional Information (Location)")},null,8,["value"]),i(d,{id:"additionalInformation",type:"text",class:"mt-1 block w-full",modelValue:r.form.address.additionalInformation,"onUpdate:modelValue":s[3]||(s[3]=a=>r.form.address.additionalInformation=a)},null,8,["modelValue"])]),e("div",P,[i(n,{for:"postalCode",value:o.__("Postal Code")},null,8,["value"]),i(d,{id:"postalCode",type:"number",class:"mt-1 block w-full",modelValue:r.form.address.postalCode,"onUpdate:modelValue":s[4]||(s[4]=a=>r.form.address.postalCode=a)},null,8,["modelValue"])]),e("div",R,[i(n,{for:"branchLogo",value:o.__("Branch Logo")},null,8,["value"]),e("input",{type:"file",class:"mt-1 block w-full py-2",required:"",accept:".jpg,.png,.jpeg",onChange:s[5]||(s[5]=a=>u.branchLogo(a))},null,32)])]),e("div",null,[e("div",null,[i(n,{for:"country",value:o.__("Country")},null,8,["value"]),i(d,{id:"country",type:"text",class:"mt-1 block w-full",modelValue:r.form.address.country,"onUpdate:modelValue":s[6]||(s[6]=a=>r.form.address.country=a),required:""},null,8,["modelValue"])]),e("div",H,[i(n,{for:"governate",value:o.__("Governate/State")},null,8,["value"]),M(e("select",{id:"governate","onUpdate:modelValue":s[7]||(s[7]=a=>r.form.address.governate=a),class:"mt-1 block w-full rounded border border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 shadow-sm"},[e("option",K,t(o.__("Cairo")),1),e("option",O,t(o.__("Giza")),1),e("option",W,t(o.__("Alexandria")),1),e("option",X,t(o.__("Gharbiya")),1),e("option",Y,t(o.__("Qalioubiya")),1),e("option",Z,t(o.__("Assiut")),1),e("option",$,t(o.__("Aswan")),1),e("option",x,t(o.__("Beheira")),1),e("option",oo,t(o.__("Bani Suef")),1),e("option",eo,t(o.__("Daqahliya")),1),e("option",so,t(o.__("Damietta")),1),e("option",to,t(o.__("Fayyoum")),1),e("option",ao,t(o.__("Helwan")),1),e("option",ro,t(o.__("Ismailia")),1),e("option",io,t(o.__("Kafr El Sheikh")),1),e("option",no,t(o.__("Luxor")),1),e("option",lo,t(o.__("Marsa Matrouh")),1),e("option",uo,t(o.__("Minya")),1),e("option",mo,t(o.__("Monofiya")),1),e("option",po,t(o.__("New Valley")),1),e("option",ho,t(o.__("North Sinai")),1),e("option",fo,t(o.__("Port Said")),1),e("option",_o,t(o.__("Qena")),1),e("option",co,t(o.__("Red Sea")),1),e("option",bo,t(o.__("Sharqiya")),1),e("option",vo,t(o.__("Sohag")),1),e("option",go,t(o.__("South Sinai")),1),e("option",yo,t(o.__("Suez")),1),e("option",Co,t(o.__("Tanta")),1)],512),[[q,r.form.address.governate]])]),e("div",wo,[i(n,{for:"regionCity",value:o.__("Region/City")},null,8,["value"]),i(d,{id:"regionCity",type:"text",class:"mt-1 block w-full",modelValue:r.form.address.regionCity,"onUpdate:modelValue":s[8]||(s[8]=a=>r.form.address.regionCity=a),required:""},null,8,["modelValue"])]),e("div",So,[i(n,{for:"street",value:o.__("Street")},null,8,["value"]),i(d,{id:"street",type:"text",class:"mt-1 block w-full",modelValue:r.form.address.street,"onUpdate:modelValue":s[9]||(s[9]=a=>r.form.address.street=a),required:""},null,8,["modelValue"])]),e("div",Vo,[i(n,{for:"buildingNumber",value:o.__("Building Number")},null,8,["value"]),i(d,{id:"buildingNumber",type:"text",class:"mt-1 block w-full",modelValue:r.form.address.buildingNumber,"onUpdate:modelValue":s[10]||(s[10]=a=>r.form.address.buildingNumber=a),required:""},null,8,["modelValue"])])])])],32)]),footer:m(()=>[e("div",Jo,[i(f,{onClick:s[12]||(s[12]=a=>u.CancelAddBranch())},{default:m(()=>[p(t(o.__("Cancel")),1)]),_:1}),i(_,{class:A(["ms-2",{"opacity-25":r.form.processing}]),onClick:u.submit,disabled:r.form.processing},{default:m(()=>[p(t(o.__("Save")),1)]),_:1},8,["onClick","class","disabled"])])]),_:1},8,["show"])}const Oo=T(F,[["render",Do]]);export{Oo as default};
